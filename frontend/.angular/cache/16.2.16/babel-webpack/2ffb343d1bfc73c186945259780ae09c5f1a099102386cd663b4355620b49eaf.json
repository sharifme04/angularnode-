{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { BehaviorSubject } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ProductService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = 'http://localhost:3000/api/products';\n    this.productsSubject = new BehaviorSubject([]);\n    this.products$ = this.productsSubject.asObservable();\n  }\n  getProducts(search, category) {\n    let params = new HttpParams();\n    if (search) params = params.set('search', search);\n    if (category) params = params.set('category', category);\n    return this.http.get(this.apiUrl, {\n      params\n    }).pipe(tap(response => {\n      if (response.success) {\n        this.productsSubject.next(response.data);\n      }\n    }));\n  }\n  getProduct(id) {\n    return this.http.get(`${this.apiUrl}/${id}`);\n  }\n  createProduct(product) {\n    return this.http.post(this.apiUrl, product);\n  }\n  updateProduct(id, product) {\n    return this.http.put(`${this.apiUrl}/${id}`, product);\n  }\n  deleteProduct(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`);\n  }\n  static {\n    this.ɵfac = function ProductService_Factory(t) {\n      return new (t || ProductService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ProductService,\n      factory: ProductService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["HttpParams","BehaviorSubject","tap","ProductService","constructor","http","apiUrl","productsSubject","products$","asObservable","getProducts","search","category","params","set","get","pipe","response","success","next","data","getProduct","id","createProduct","product","post","updateProduct","put","deleteProduct","delete","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/Volumes/Acer 2TB/angularNode/frontend/src/app/core/services/product.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nexport interface Product {\n  _id?: string;\n  name: string;\n  description: string;\n  price: number;\n  quantity: number;\n  category: string;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\nexport interface ApiResponse {\n  success: boolean;\n  data?: any;\n  message?: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductService {\n  private apiUrl = 'http://localhost:3000/api/products';\n  private productsSubject = new BehaviorSubject<Product[]>([]);\n  public products$ = this.productsSubject.asObservable();\n\n  constructor(private http: HttpClient) {}\n\n  getProducts(search?: string, category?: string): Observable<ApiResponse> {\n    let params = new HttpParams();\n    if (search) params = params.set('search', search);\n    if (category) params = params.set('category', category);\n\n    return this.http.get<ApiResponse>(this.apiUrl, { params }).pipe(\n      tap(response => {\n        if (response.success) {\n          this.productsSubject.next(response.data);\n        }\n      })\n    );\n  }\n\n  getProduct(id: string): Observable<ApiResponse> {\n    return this.http.get<ApiResponse>(`${this.apiUrl}/${id}`);\n  }\n\n  createProduct(product: Product): Observable<ApiResponse> {\n    return this.http.post<ApiResponse>(this.apiUrl, product);\n  }\n\n  updateProduct(id: string, product: Product): Observable<ApiResponse> {\n    return this.http.put<ApiResponse>(`${this.apiUrl}/${id}`, product);\n  }\n\n  deleteProduct(id: string): Observable<ApiResponse> {\n    return this.http.delete<ApiResponse>(`${this.apiUrl}/${id}`);\n  }\n}\n"],"mappings":"AACA,SAAqBA,UAAU,QAAQ,sBAAsB;AAC7D,SAAqBC,eAAe,QAAQ,MAAM;AAClD,SAASC,GAAG,QAAQ,gBAAgB;;;AAsBpC,OAAM,MAAOC,cAAc;EAKzBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAJhB,KAAAC,MAAM,GAAG,oCAAoC;IAC7C,KAAAC,eAAe,GAAG,IAAIN,eAAe,CAAY,EAAE,CAAC;IACrD,KAAAO,SAAS,GAAG,IAAI,CAACD,eAAe,CAACE,YAAY,EAAE;EAEf;EAEvCC,WAAWA,CAACC,MAAe,EAAEC,QAAiB;IAC5C,IAAIC,MAAM,GAAG,IAAIb,UAAU,EAAE;IAC7B,IAAIW,MAAM,EAAEE,MAAM,GAAGA,MAAM,CAACC,GAAG,CAAC,QAAQ,EAAEH,MAAM,CAAC;IACjD,IAAIC,QAAQ,EAAEC,MAAM,GAAGA,MAAM,CAACC,GAAG,CAAC,UAAU,EAAEF,QAAQ,CAAC;IAEvD,OAAO,IAAI,CAACP,IAAI,CAACU,GAAG,CAAc,IAAI,CAACT,MAAM,EAAE;MAAEO;IAAM,CAAE,CAAC,CAACG,IAAI,CAC7Dd,GAAG,CAACe,QAAQ,IAAG;MACb,IAAIA,QAAQ,CAACC,OAAO,EAAE;QACpB,IAAI,CAACX,eAAe,CAACY,IAAI,CAACF,QAAQ,CAACG,IAAI,CAAC;;IAE5C,CAAC,CAAC,CACH;EACH;EAEAC,UAAUA,CAACC,EAAU;IACnB,OAAO,IAAI,CAACjB,IAAI,CAACU,GAAG,CAAc,GAAG,IAAI,CAACT,MAAM,IAAIgB,EAAE,EAAE,CAAC;EAC3D;EAEAC,aAAaA,CAACC,OAAgB;IAC5B,OAAO,IAAI,CAACnB,IAAI,CAACoB,IAAI,CAAc,IAAI,CAACnB,MAAM,EAAEkB,OAAO,CAAC;EAC1D;EAEAE,aAAaA,CAACJ,EAAU,EAAEE,OAAgB;IACxC,OAAO,IAAI,CAACnB,IAAI,CAACsB,GAAG,CAAc,GAAG,IAAI,CAACrB,MAAM,IAAIgB,EAAE,EAAE,EAAEE,OAAO,CAAC;EACpE;EAEAI,aAAaA,CAACN,EAAU;IACtB,OAAO,IAAI,CAACjB,IAAI,CAACwB,MAAM,CAAc,GAAG,IAAI,CAACvB,MAAM,IAAIgB,EAAE,EAAE,CAAC;EAC9D;;;uBAnCWnB,cAAc,EAAA2B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAd9B,cAAc;MAAA+B,OAAA,EAAd/B,cAAc,CAAAgC,IAAA;MAAAC,UAAA,EAFb;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}